<style>
  ::ng-deep .mat-checkbox-checked .mat-checkbox-background {
    background-color: #2E5496 !important;
  }

  ::ng-deep .mat-checkbox .mat-checkbox-frame {
    border-color: #2E5496;
  }
</style>
<div class="template-demo" style="margin-top:10px">
  <h1>Individual Report</h1>
</div>
<mat-accordion class="example-headers-align" multi>
  <mat-expansion-panel [expanded]="openTab">
    <mat-expansion-panel-header>
      <mat-panel-title style="font-weight: 500;font-size: 16px;">
        Individual Form
      </mat-panel-title>
      <mat-panel-description>
        <span style="color: white;">.</span>
        <mat-icon>account_circle</mat-icon>
      </mat-panel-description>
    </mat-expansion-panel-header>
    <ngx-spinner bdColor="rgba(0,0,0,0.21)" size="medium" color="#fff" type="square-jelly-box" [fullScreen]="false">
      <p style="color: white"> Loading... </p>
    </ngx-spinner>
    <form class="form-sample" (ngSubmit)="onSubmit(individualForm)" [formGroup]="individualForm"
      style="margin: 5px;color: black;">
      <div class="row">
        <div class="col-md-6">
          <div class="form-group row">
            <label class="col-sm-3 col-form-label">First Name</label>
            <div class="col-sm-9">
              <input type="text" class="form-control" formControlName="first_name" />
            </div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="form-group row">
            <label class="col-sm-3 col-form-label">Last Name</label>
            <div class="col-sm-9">
              <input type="text" class="form-control" formControlName="last_name" />
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-4">
          <div class="form-group row">
            <label class="col-sm-3 col-form-label">City</label>
            <div class="col-sm-9">
              <input type="text" class="form-control" formControlName="city" />
            </div>
          </div>
        </div>
        <div class="col-md-4">
          <div class="form-group row">
            <label class="col-sm-3 col-form-label">Zip Code</label>
            <div class="col-sm-9">
              <input type="text" class="form-control" formControlName="zip_code" />
            </div>
          </div>
        </div>
        <div class="col-md-4">
          <div class="form-group row">
            <label class="col-sm-3 col-form-label">Client Type</label>
            <div class="col-sm-9">
              <select class="form-control" formControlName="client_type">
                <option *ngFor="let item of clientType | keyvalue" value={{item.key}}>{{item.value}}</option>
              </select>
            </div>
          </div>
        </div>
      </div>
      <p class="card-description" style="margin-bottom: 2rem;font-weight: 500;font-size: medium;">
        Date Of Birth
      </p>
      <div class="row">
        <div class="col-md-6">
          <div class="form-group row">
            <label class="col-sm-3 col-form-label">DOB From</label>
            <div class="col-sm-9">
              <mat-form-field appearance="outline" style="width: 100%; font-size: 11px;margin-top: -6px;">
                <input matInput [matDatepicker]="picker" formControlName="birth_date_from">
                <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                <mat-datepicker #picker></mat-datepicker>
              </mat-form-field>
            </div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="form-group row">
            <label class="col-sm-3 col-form-label">DOB To</label>
            <div class="col-sm-9">
              <mat-form-field appearance="outline" style="width: 100%; font-size: 11px;margin-top: -6px;">
                <input matInput [matDatepicker]="picker1" formControlName="birth_date_to">
                <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                <mat-datepicker #picker1></mat-datepicker>
              </mat-form-field>
            </div>
          </div>
        </div>
      </div>

      <p class="card-description" style="margin-bottom: 2rem;font-weight: 500;font-size: medium;">
        Payment
      </p>
      <div class="row">
        <div class="col-md-6">
          <div class="form-group row">
            <label class="col-sm-3 col-form-label">Expiry Month From</label>
            <div class="col-sm-9">
              <select class="form-control" formControlName="payment_expiry_month_from" (change)="hideDocument(individualForm)">
                <option [value]="1">January</option>
                <option [value]="2">Feburary</option>
                <option [value]="3">March</option>
                <option [value]="4">April</option>
                <option [value]="5">May</option>
                <option [value]="6">June</option>
                <option [value]="7">July</option>
                <option [value]="8">Augest</option>
                <option [value]="9">September</option>
                <option [value]="10">October</option>
                <option [value]="11">November</option>
                <option [value]="12">December</option>
              </select>
            </div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="form-group row">
            <label class="col-sm-3 col-form-label">Expiry Month To</label>
            <div class="col-sm-9">
              <select class="form-control" formControlName="payment_expiry_month_to" (change)="hideDocument(individualForm)">
                <option [value]="1">January</option>
                <option [value]="2">Feburary</option>
                <option [value]="3">March</option>
                <option [value]="4">April</option>
                <option [value]="5">May</option>
                <option [value]="6">June</option>
                <option [value]="7">July</option>
                <option [value]="8">Augest</option>
                <option [value]="9">September</option>
                <option [value]="10">October</option>
                <option [value]="11">November</option>
                <option [value]="12">December</option>
              </select>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-6">
          <div class="form-group row">
            <label class="col-sm-3 col-form-label">Expiry Year From</label>
            <div class="col-sm-9">
              <select class="form-control" formControlName="payment_expiry_year_from" (change)="hideDocument(individualForm)">
                <option *ngFor="let year of years" [value]="year">
                  {{year}}
                </option>
              </select>
            </div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="form-group row">
            <label class="col-sm-3 col-form-label">Expiry Year To</label>
            <div class="col-sm-9">
              <select class="form-control" formControlName="payment_expiry_year_to">
                <option *ngFor="let year of expiry_years" [value]="year">
                  {{year}}
                </option>
              </select>
            </div>
          </div>
        </div>
      </div>
      <p class="card-description" style="margin-bottom: 2rem;font-weight: 500;font-size: medium;">
        Document
      </p>
      <div class="row">

        <div class="col-md-6">
          <div class="form-group row">
            <label class="col-sm-3 col-form-label">Status</label>
            <div class="col-sm-9">
              <select class="form-control" formControlName="document_status" (change)="hidePayment(individualForm)">
                <option value="1">Open</option>
                <option value="0">Submitted</option>
              </select>
            </div>
          </div>
        </div>

        <div class="col-md-6">
          <div class="form-group row">
            <label class="col-sm-3 col-form-label">Document Type</label>
            <div class="col-sm-9">
              <select class="form-control" formControlName="document_type_id" (change)="hidePayment(individualForm)">
                <option *ngFor="let item of docType| keyvalue" value={{item.key}}>
                  {{item.value}}
                </option>
              </select>
            </div>
          </div>
        </div>

        <div class="col-md-6">
          <div class="form-group row">
            <label class="col-sm-3 col-form-label">Due Date From</label>
            <div class="col-sm-9">
              <mat-form-field appearance="outline" style="width: 100%; font-size: 11px;margin-top: -6px;">
                <input matInput [matDatepicker]="picker2" formControlName="document_due_date_from"
                  (dateChange)="hidePayment(individualForm)">
                <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
                <mat-datepicker #picker2></mat-datepicker>
              </mat-form-field>
            </div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="form-group row">
            <label class="col-sm-3 col-form-label">Due Date To</label>
            <div class="col-sm-9">
              <mat-form-field appearance="outline" style="width: 100%; font-size: 11px;margin-top: -6px;">
                <input matInput [matDatepicker]="picker3" formControlName="document_due_date_to"
                  (dateChange)="hidePayment(individualForm)">
                <mat-datepicker-toggle matSuffix [for]="picker3"></mat-datepicker-toggle>
                <mat-datepicker #picker3></mat-datepicker>
              </mat-form-field>
            </div>
          </div>
        </div>
      </div>
      <button type="button" class="btn btn-sm btn-primary float-right" (click)="resetReportForm()"
        style="background-color: grey;">Reset</button>
      <button type="submit" class="btn btn-primary float-right">Submit</button>
    </form>
  </mat-expansion-panel>
  <mat-expansion-panel [expanded]="!openTab">
    <mat-expansion-panel-header>
      <mat-panel-title style="font-weight: 500;font-size: 16px;">
        Data Table
      </mat-panel-title>
      <mat-panel-description>
        <span style="color: white;">.</span>
        <mat-icon>table</mat-icon>
      </mat-panel-description>
    </mat-expansion-panel-header>
    <button (click)="ExportToExcle()" class="btn btn-sm btn-primary float-right" style="margin-bottom: 5px;">Export
      table to excel</button>
    <br />
    <table border="1" style="width: 100%;" id="tbl_exporttable_to_xls">
      <tr>
        <th colspan="2" style="text-align:'center'">Name</th>
        <th colspan="2" text-align="center">Biometric</th>
        <th colspan="2" text-align="center">Contact</th>
        <th colspan="2" text-align="center">Address</th>
        <th text-align="center">Client Type</th>
        <th colspan="4" text-align="center" *ngIf="!hidePaymentValue">Payment</th>
        <th colspan="4" text-align="center" *ngIf="!hideDocumentValue">Document</th>
      </tr>
      <tr>
        <td *ngFor="let col of allColumns">
          {{ col.name }}<br />
          <input type="checkbox" [id]="col.name" *ngIf="col.name" (click)="toggle(col)" [checked]="isChecked(col)" />
        </td>
      </tr>
    </table>
    <br />

    <mat-form-field appearance="outline" style="font-size: 10px">
      <mat-label>Search</mat-label>
      <input matInput (keyup)="updateFilter($event)" autocomplete="off">
    </mat-form-field>

    <ngx-datatable id="reportable" class="material" [loadingIndicator]="isLoading" [rows]="rows" #datatable
      [headerHeight]="50" [footerHeight]="50" [scrollbarH]="true" [scrollbarV]="false" [limit]="10" rowHeight="auto">

      <ngx-datatable-column style="font-size: 14px;color: black;" *ngFor="let col of columns" [name]="col.name"
        [minWidth]="col.minWidth" [prop]="col.props">

      </ngx-datatable-column>
    </ngx-datatable>

  </mat-expansion-panel>
</mat-accordion>
