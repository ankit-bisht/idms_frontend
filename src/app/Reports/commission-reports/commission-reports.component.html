<style>
  ::ng-deep .mat-checkbox-checked .mat-checkbox-background {
    background-color: #2E5496 !important;
  }

  ::ng-deep .mat-checkbox .mat-checkbox-frame {
    border-color: #2E5496;
  }
</style>
<div class="template-demo" style="margin-top:10px">
  <h1>Commssion Report</h1>
</div>
<mat-accordion class="example-headers-align" multi>
  <mat-expansion-panel [expanded]="openTab">
    <mat-expansion-panel-header>
      <mat-panel-title style="font-weight: 500;font-size: 16px;">
        Commssion Form
      </mat-panel-title>
      <mat-panel-description>
        <span style="color: white;">.</span>
        <mat-icon>account_circle</mat-icon>
      </mat-panel-description>
    </mat-expansion-panel-header>
    <ngx-spinner bdColor="rgba(0,0,0,0.21)" size="medium" color="#fff" type="square-jelly-box" [fullScreen]="false">
      <p style="color: white"> Loading... </p>
    </ngx-spinner>
    <form class="form-sample" (ngSubmit)="onSubmit(policyForm)" [formGroup]="policyForm"
      style="margin: 5px;color: black;">
      <div class="row">
        <div class="col-md-6">
          <div class="form-group row">
            <label class="col-sm-3 col-form-label">Policy Type</label>
            <div class="col-sm-9">
              <select class="form-control" formControlName="policy_type">
                <option value="I">Individual</option>
                <option value="G">Group</option>
              </select>
            </div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="form-group row">
            <label class="col-sm-3 col-form-label">Carrier</label>
            <div class="col-sm-9">
              <select class="form-control" formControlName="carrier">
                <option *ngFor="let item of carriers" [value]=item.carrier_id>{{item.carrier_name}}</option>
              </select>
            </div>
          </div>
        </div>
      </div>
      <p class="card-description" style="margin-bottom: 2rem;font-weight: 500;font-size: medium;">

      </p>
      <div class="row">
        <div class="col-md-6">
          <div class="form-group row">
            <label class="col-sm-3 col-form-label">First Name</label>
            <div class="col-sm-9">
              <input type="text" class="form-control" formControlName="first_name" />
            </div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="form-group row">
            <label class="col-sm-3 col-form-label">Last Name</label>
            <div class="col-sm-9">
              <input type="text" class="form-control" formControlName="last_name" />
            </div>
          </div>
        </div>
      </div>
      <p class="card-description" style="margin-bottom: 2rem;font-weight: 500;font-size: medium;">

      </p>
      <div class="row">
        <div class="col-md-6">
          <div class="form-group row">
            <label class="col-sm-3 col-form-label">Month From</label>
            <div class="col-sm-9">
              <select class="form-control" formControlName="month_from">
                <option [value]="1">January</option>
                <option [value]="2">Feburary</option>
                <option [value]="3">March</option>
                <option [value]="4">April</option>
                <option [value]="5">May</option>
                <option [value]="6">June</option>
                <option [value]="7">July</option>
                <option [value]="8">Augest</option>
                <option [value]="9">September</option>
                <option [value]="10">October</option>
                <option [value]="11">November</option>
                <option [value]="12">December</option>
              </select>
            </div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="form-group row">
            <label class="col-sm-3 col-form-label">Month To</label>
            <div class="col-sm-9">
              <select class="form-control" formControlName="month_to">
                <option [value]="1">January</option>
                <option [value]="2">Feburary</option>
                <option [value]="3">March</option>
                <option [value]="4">April</option>
                <option [value]="5">May</option>
                <option [value]="6">June</option>
                <option [value]="7">July</option>
                <option [value]="8">Augest</option>
                <option [value]="9">September</option>
                <option [value]="10">October</option>
                <option [value]="11">November</option>
                <option [value]="12">December</option>
              </select>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-6">
          <div class="form-group row">
            <label class="col-sm-3 col-form-label">Year From</label>
            <div class="col-sm-9">
              <select class="form-control" formControlName="year_from">
                <option *ngFor="let year of years" [value]="year">
                  {{year}}
                </option>
              </select>
            </div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="form-group row">
            <label class="col-sm-3 col-form-label">Year To</label>
            <div class="col-sm-9">
              <select class="form-control" formControlName="year_to">
                <option *ngFor="let year of years" [value]="year">
                  {{year}}
                </option>
              </select>
            </div>
          </div>
        </div>
      </div>
      <button type="button" class="btn btn-sm btn-primary float-right" (click)="resetReportForm()"
        style="background-color: grey;">Reset</button>
      <button type="submit" class="btn btn-primary float-right">Submit</button>
    </form>
  </mat-expansion-panel>
  <mat-expansion-panel [expanded]="!openTab">
    <mat-expansion-panel-header>
      <mat-panel-title style="font-weight: 500;font-size: 16px;">
        Data Table
      </mat-panel-title>
      <mat-panel-description>
        <span style="color: white;">.</span>
        <mat-icon>table</mat-icon>
      </mat-panel-description>
    </mat-expansion-panel-header>
    <button (click)="ExportToExcle()" class="btn btn-sm btn-primary float-right" style="margin-bottom: 5px;">Export
      table to excel</button>
    <mat-form-field appearance="outline" style="font-size: 10px">
      <mat-label>Search</mat-label>
      <input matInput (keyup)="updateFilter($event)" autocomplete="off">
    </mat-form-field>

    <ngx-datatable id="reportable" class="material" [loadingIndicator]="isLoading" [rows]="rows" #datatable
      [headerHeight]="50" [footerHeight]="50" [scrollbarH]="true" [limit]="10" rowHeight="auto">

      <ngx-datatable-column style="font-size: 14px;color: black;" *ngFor="let col of columns" [name]="col.name"
        [minWidth]="col.minWidth" [prop]="col.props">

      </ngx-datatable-column>
    </ngx-datatable>

  </mat-expansion-panel>
</mat-accordion>
