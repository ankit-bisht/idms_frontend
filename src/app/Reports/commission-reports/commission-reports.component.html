<style>
  ::ng-deep .mat-checkbox-checked .mat-checkbox-background {
    background-color: #2E5496 !important;
  }

  ::ng-deep .mat-checkbox .mat-checkbox-frame {
    border-color: #2E5496;
  }
</style>
<div class="template-demo" style="margin-top:10px">
  <h1>Commission Report</h1>
</div>
<mat-accordion class="example-headers-align" multi>
  <mat-expansion-panel [expanded]="openTab">
    <mat-expansion-panel-header>
      <mat-panel-title style="font-weight: 500;font-size: 16px;">
        Commission Form
      </mat-panel-title>
      <mat-panel-description>
        <span style="color: white;">.</span>
        <mat-icon>account_circle</mat-icon>
      </mat-panel-description>
    </mat-expansion-panel-header>
    <ngx-spinner bdColor="rgba(0,0,0,0.21)" size="medium" color="#fff" type="square-jelly-box" [fullScreen]="false">
      <p style="color: white"> Loading... </p>
    </ngx-spinner>
    <form class="form-sample" (ngSubmit)="onSubmit(policyForm)" [formGroup]="policyForm"
      style="margin: 5px;color: black;">

      <div class="row">
        <div class="col-md-6">
          <div class="form-group row">
            <label class="col-sm-3 col-form-label">Carrier</label>
            <div class="col-sm-9">
              <select class="form-control" formControlName="carrier" (change)="submitCarrier()">
                <option *ngFor="let item of carriers" [value]=item.carrier_id>{{item.carrier_name}}</option>
              </select>
            </div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="form-group row">
            <label class="col-sm-3 col-form-label">Product Name</label>
            <div class="col-sm-9">
              <select class="form-control" formControlName="product_name">
                <option *ngFor="let item of productList" [value]=item.product_id>{{item.product_description}}</option>
              </select>
            </div>
          </div>
        </div>
      </div>
      <!-- <p class="card-description" style="margin-bottom: 2rem;font-weight: 500;font-size: medium;">

      </p> -->

      <div class="row">
        <div class="col-md-6">
          <div class="form-group row">
            <label class="col-sm-3 col-form-label">First Name</label>
            <div class="col-sm-9">
              <input type="text" class="form-control" formControlName="first_name" />
            </div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="form-group row">
            <label class="col-sm-3 col-form-label">Last Name</label>
            <div class="col-sm-9">
              <input type="text" class="form-control" formControlName="last_name" />
            </div>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-md-6">
          <div class="form-group row">
            <label class="col-sm-3 col-form-label">Member Count</label>
            <div class="col-sm-9">
              <input type="text" class="form-control" formControlName="mem_count" />
            </div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="form-group row">
            <label class="col-sm-3 col-form-label">Commission Value</label>
            <div class="col-sm-9">
              <input type="text" class="form-control" formControlName="com_value" />
            </div>
          </div>
        </div>
      </div>


      <p class="card-description" style="margin-bottom: 2rem;font-weight: 500;font-size: medium;">

      </p>

      <div class="row">
        <div class="col-md-6">
          <div class="form-group row">
            <label class="col-sm-3 col-form-label">Month From</label>
            <div class="col-sm-9">
              <select class="form-control" formControlName="start_month_from">
                <option [value]="1">January</option>
                <option [value]="2">Feburary</option>
                <option [value]="3">March</option>
                <option [value]="4">April</option>
                <option [value]="5">May</option>
                <option [value]="6">June</option>
                <option [value]="7">July</option>
                <option [value]="8">August</option>
                <option [value]="9">September</option>
                <option [value]="10">October</option>
                <option [value]="11">November</option>
                <option [value]="12">December</option>
              </select>
            </div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="form-group row">
            <label class="col-sm-3 col-form-label">Month To</label>
            <div class="col-sm-9">
              <select class="form-control" formControlName="start_month_to">
                <option [value]="1">January</option>
                <option [value]="2">Feburary</option>
                <option [value]="3">March</option>
                <option [value]="4">April</option>
                <option [value]="5">May</option>
                <option [value]="6">June</option>
                <option [value]="7">July</option>
                <option [value]="8">August</option>
                <option [value]="9">September</option>
                <option [value]="10">October</option>
                <option [value]="11">November</option>
                <option [value]="12">December</option>
              </select>
            </div>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-md-6">
          <div class="form-group row">
            <label class="col-sm-3 col-form-label">Year From</label>
            <div class="col-sm-9">
              <select class="form-control" formControlName="start_year_from">
                <option *ngFor="let year of years" [value]="year">
                  {{year}}
                </option>
              </select>
            </div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="form-group row">
            <label class="col-sm-3 col-form-label">Year To</label>
            <div class="col-sm-9">
              <select class="form-control" formControlName="start_year_to">
                <option *ngFor="let year of years" [value]="year">
                  {{year}}
                </option>
              </select>
            </div>
          </div>
        </div>
      </div>

      <!-- <div class="row">
        <div class="col-md-6">
          <div class="form-group row">
            <label class="col-sm-3 col-form-label">Date From</label>
            <div class="col-sm-9">
              <mat-form-field appearance="outline" style="width: 100%; font-size: 11px;margin-top: -6px;">
                <input matInput [matDatepicker]="picker1" formControlName="date_from">
                <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                <mat-datepicker #picker1></mat-datepicker>
              </mat-form-field>
            </div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="form-group row">
            <label class="col-sm-3 col-form-label">Date To</label>
            <div class="col-sm-9">
              <mat-form-field appearance="outline" style="width: 100%; font-size: 11px;margin-top: -6px;">
                <input matInput [matDatepicker]="picker" formControlName="date_to">
                <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                <mat-datepicker #picker></mat-datepicker>
              </mat-form-field>
            </div>
          </div>
        </div>
      </div> -->
      <!--
      <p class="card-description" style="margin-bottom: 2rem;font-weight: 500;font-size: medium;">
        End Date
      </p>

      <div class="row">
        <div class="col-md-6">
          <div class="form-group row">
            <label class="col-sm-3 col-form-label">Month From</label>
            <div class="col-sm-9">
              <select class="form-control" formControlName="end_month_from">
                <option [value]="1">January</option>
                <option [value]="2">Feburary</option>
                <option [value]="3">March</option>
                <option [value]="4">April</option>
                <option [value]="5">May</option>
                <option [value]="6">June</option>
                <option [value]="7">July</option>
                <option [value]="8">August</option>
                <option [value]="9">September</option>
                <option [value]="10">October</option>
                <option [value]="11">November</option>
                <option [value]="12">December</option>
              </select>
            </div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="form-group row">
            <label class="col-sm-3 col-form-label">Month To</label>
            <div class="col-sm-9">
              <select class="form-control" formControlName="end_month_to">
                <option [value]="1">January</option>
                <option [value]="2">Feburary</option>
                <option [value]="3">March</option>
                <option [value]="4">April</option>
                <option [value]="5">May</option>
                <option [value]="6">June</option>
                <option [value]="7">July</option>
                <option [value]="8">August</option>
                <option [value]="9">September</option>
                <option [value]="10">October</option>
                <option [value]="11">November</option>
                <option [value]="12">December</option>
              </select>
            </div>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-md-6">
          <div class="form-group row">
            <label class="col-sm-3 col-form-label">Year From</label>
            <div class="col-sm-9">
              <select class="form-control" formControlName="end_year_from">
                <option *ngFor="let year of years" [value]="year">
                  {{year}}
                </option>
              </select>
            </div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="form-group row">
            <label class="col-sm-3 col-form-label">Year To</label>
            <div class="col-sm-9">
              <select class="form-control" formControlName="end_year_to">
                <option *ngFor="let year of years" [value]="year">
                  {{year}}
                </option>
              </select>
            </div>
          </div>
        </div>
      </div> -->

      <p class="card-description" style="margin-bottom: 2rem;font-weight: 500;font-size: medium;">

      </p>

      <div class="row">
        <div class="col-md-6">
          <div class="form-group row">
            <label class="col-sm-3 col-form-label">Election Tier</label>
            <div class="col-sm-9">
              <select class="form-control" formControlName="election_tier">
                <option *ngFor="let item of constants.election | keyvalue" [value]="item.key">{{item.value}}</option>
              </select>
            </div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="form-group row">
            <label class="col-sm-3 col-form-label">Policy Status</label>
            <div class="col-sm-9">
              <select class="form-control" formControlName="policy_status">
                <option *ngFor="let item of constants.status | keyvalue" [value]=item.key>{{item.value}}</option>
              </select>
            </div>
          </div>
        </div>
      </div>
      <button type="button" class="btn btn-sm btn-primary float-right" (click)="resetReportForm()"
        style="background-color: grey;">Reset</button>
      <button type="submit" class="btn btn-primary float-right">Submit</button>
    </form>
  </mat-expansion-panel>
  <mat-expansion-panel [expanded]="!openTab">
    <mat-expansion-panel-header>
      <mat-panel-title style="font-weight: 500;font-size: 16px;">
        Data Table
      </mat-panel-title>
      <mat-panel-description>
        <span style="color: white;">.</span>
        <mat-icon>table</mat-icon>
      </mat-panel-description>
    </mat-expansion-panel-header>
    <button (click)="ExportToExcle()" class="btn btn-sm btn-primary float-right" style="margin-bottom: 5px;">Export
      table to excel</button>
    <mat-form-field appearance="outline" style="font-size: 10px">
      <mat-label>Search</mat-label>
      <input matInput (keyup)="updateFilter($event)" autocomplete="off">
    </mat-form-field>

    <ngx-datatable id="reportable" class="material" [loadingIndicator]="isLoading" [rows]="rows" #datatable
      [headerHeight]="50" [footerHeight]="50" [scrollbarH]="true" [limit]="10" rowHeight="auto">

      <ngx-datatable-column style="font-size: 14px;color: black;" *ngFor="let col of columns" [name]="col.name"
        [minWidth]="col.minWidth" [prop]="col.props">

      </ngx-datatable-column>
    </ngx-datatable>

  </mat-expansion-panel>
</mat-accordion>
